<!DOCTYPE html>
<html lang="en-us" dir="ltr"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packages</title>
    <link rel="stylesheet" href="/golangbook/sass/main.css">
</head><body dir="ltr" data-theme="dark"><header class="header">
    
</header><aside class="sidebar">
    <div class="sidebar__body">
        <nav class="menu">
<ol class="menu__nav">
    <li class="menu__item">
        <h3>Tables des matières</h3>
    </li>

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/">Accueil</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/">Introduction</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/historical/">Historique</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/phylosophy/">Principes et Philosophie</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/domains/">Domaines d&#39;application</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/resources/">Ressources</a>
            </li>
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/">Installation</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/commands/">Commandes</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/workspace/">Espace de Travail</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/">Bases du langage</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/hello-world/">Hello World</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/packages/">Packages</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/types/">Types de base</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/variables/">Variables</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/constantes/">Constantes</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/blank/">Identifiant blanc _</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/scope/">Portée des variables</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/fmt/">Package fmt</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/control-flow/">Contrôle de flux</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/">Collections</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/arrays/">Arrays</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/slices/">Slices</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/maps/">Maps</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/pointers/">Pointers</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/functions/">Fonctions</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/functions/defer/">Defer</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/errors/">Gestion des erreurs</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/errors/recover/">Panic et Recover</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/structs/">Structs</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/interfaces/">Interfaces</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/goroutines/">Goroutines</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/channels/">Channels</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

</ol>

        </nav>
    </div>
</aside><main>
<div class="container">
    <h1>Packages</h1>

    <section class="summary">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#initilisation">Initilisation</a></li>
    <li><a href="#visibilité-dun-package">Visibilité d&rsquo;un package</a></li>
  </ul>
</nav>
    </section>

    <section class="content">
        <p>Les packages sont utilisés comme des programmes exécutables ou des bibliothèques réutilisables. On reconnait un programme exécutable car il est défini par un package et une fonction nommés <em><strong>main</strong></em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Les autres packages sont de type bibliothèque pouvant être réutilisés dans plusieurs programmes et permettent d&rsquo;organiser et de structurer le code de façon modulaire. Pour faciliter les imports de nos packages il est recommandé de placer nos fichiers dans notre espace de travail pour les rendre accessibles partout.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>workspace
</span></span><span style="display:flex;"><span>├── bin
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    ├── package-1
</span></span><span style="display:flex;"><span>    └── package-2
</span></span></code></pre></div><p>La création d&rsquo;un package est composé au minimum d&rsquo;un répertoire dans lequel on créé un fichier avec à l&rsquo;intérieur la déclaration du nom du package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>workspace
</span></span><span style="display:flex;"><span>├── bin
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    └── hello
</span></span><span style="display:flex;"><span>        └── hello.go
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// hello.go
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">hello</span>
</span></span></code></pre></div><p>Le package <em>hello</em> pourra ensuite être importé dans votre programme de la manière suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Lorsque vos packages sont créés dans l&rsquo;espace de travail le chemin de l&rsquo;import commence depuis le répertoire <strong>src</strong> et s&rsquo;arrête au répertoire de votre package.</p>
<p>Exemple :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>workspace
</span></span><span style="display:flex;"><span>├── bin
</span></span><span style="display:flex;"><span>└── src
</span></span><span style="display:flex;"><span>    ├── github.com
</span></span><span style="display:flex;"><span>    │   └── nanoninja
</span></span><span style="display:flex;"><span>    │       └── nanoninja.go
</span></span><span style="display:flex;"><span>    └── hello
</span></span><span style="display:flex;"><span>        └── hello.go
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;github.com/nanoninja&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span></code></pre></div><p><strong>Attention</strong> ! Comme pour les variables, un package qui est importé et inutilisé stoppera la compilation. Dans certain cas cela peut être un comportement souhaité car un package peut-être importé dans le cadre d’une initialisation. Là encore il faudra utiliser le caractère <em>_</em> devant le chemin de l’import.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#a6e22e">_</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span></code></pre></div><h2 id="initilisation">Initilisation</h2>
<p>Un peu comme un constructeur, Go propose pour chaque fichier d&rsquo;un package la possibilité de déclarer des fonctions d&rsquo;initialisation qui seront exécutées par le système au démarrage du programme.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// hello/hello.go
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">hello</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;Hello, &#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;World&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// main.go
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#a6e22e">_</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() { }
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>Hello, World
</span></span></code></pre></div><p>L&rsquo;ordre est important, dans un même package les fonctions <strong>init</strong> sont exécutées dans l&rsquo;ordre des fichiers puis dans l&rsquo;ordre des déclarations de haut en bas et si vous avez plusieurs packages dans l&rsquo;ordre des imports.</p>
<h2 id="visibilité-dun-package">Visibilité d&rsquo;un package</h2>
<p>Tout ce qui doit être exporté à l&rsquo;extérieur du package doit être nommé avec la première lettre en majuscule tout le reste est protégé.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// hello/hello.go
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">hello</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Constante protégée
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">defaultName</span> = <span style="color:#e6db74">&#34;Gopher&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Fonction public
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">SayHello</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">name</span> = <span style="color:#a6e22e">defaultName</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Hello, &#34;</span>, <span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A l&rsquo;import :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// main.go
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;hello&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hello</span>.<span style="color:#a6e22e">SayHello</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
    </section>
</div>

        </main><footer class="footer">
    <div class="navbar navbar--border-t">
        <div class="copyright">©2022 Vincent</div>
    </div>
</footer>

<script type="text/javascript">
const btn = document.querySelector('.sidebar__body h3');

btn.addEventListener('click', e => {
    if (localStorage.getItem('darkmode') === 'dark') {
        localStorage.setItem('darkmode', 'light');
        document.documentElement.setAttribute('data-theme', 'light');
    } else {
        localStorage.setItem('darkmode', 'dark');
        document.documentElement.setAttribute('data-theme', 'dark');
    }
});
</script>

<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [
                ['$', '$'],
                ['\\(', '\\)']
            ],
            displayMath: [
                ['$$', '$$']
            ],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ['script', 'noscript', 'style', 'textarea'],
            TeX: {
                equationNumbers: {
                    autoNumber: "AMS"
                },
                extensions: ["AMSmath.js", "AMSsymbols.js"]
            }
        }
    });

    MathJax.Hub.Queue(function () {
        var all = MathJax.Hub.getAllJax();
        var i;

        for (i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' language-jax';
        }
    });
</script></body>
</html>
