<!DOCTYPE html>
<html lang="en-us" dir="ltr"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structs</title>
    <link rel="stylesheet" href="/golangbook/sass/main.css">
</head><body dir="ltr" data-theme="dark"><header class="header">
    
</header><aside class="sidebar">
    <div class="sidebar__body">
        <nav class="menu">
<ol class="menu__nav">
    <li class="menu__item">
        <h3>Tables des matières</h3>
    </li>

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/">Accueil</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/">Introduction</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/historical/">Historique</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/phylosophy/">Principes et Philosophie</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/domains/">Domaines d&#39;application</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/introduction/resources/">Ressources</a>
            </li>
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/">Installation</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/commands/">Commandes</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/installation/workspace/">Espace de Travail</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/">Bases du langage</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/hello-world/">Hello World</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/packages/">Packages</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/types/">Types de base</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/variables/">Variables</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/constantes/">Constantes</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/blank/">Identifiant blanc _</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/scope/">Portée des variables</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/fmt/">Package fmt</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/basics/control-flow/">Contrôle de flux</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/">Collections</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/arrays/">Arrays</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/slices/">Slices</a>
            </li>
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/collections/maps/">Maps</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/pointers/">Pointers</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/functions/">Fonctions</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/functions/defer/">Defer</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/errors/">Gestion des erreurs</a>
        <ol class="menu__nav menu--sub">
            
            <li class="menu__item">
                <a class="menu__link" href="https://nanoninja.github.io/golangbook/errors/recover/">Panic et Recover</a>
            </li>
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/structs/">Structs</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/interfaces/">Interfaces</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/goroutines/">Goroutines</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    
    <li class="menu__item">
        <a class="menu__link" href="https://nanoninja.github.io/golangbook/channels/">Channels</a>
        <ol class="menu__nav menu--sub">
            
        </ol>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

</ol>

        </nav>
    </div>
</aside><main>
<div class="container">

    <h1>Structs</h1>

    <section class="summary">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#créer-une-struct">Créer une struct</a></li>
    <li><a href="#ajouter-des-méthodes-à-un-type">Ajouter des méthodes à un type</a></li>
    <li><a href="#struct-et-receiver-function">Struct et Receiver function</a></li>
    <li><a href="#pointer-receiver">Pointer Receiver</a></li>
    <li><a href="#composition">Composition</a></li>
  </ul>
</nav>
    </section>

    <section class="content">
        <p>Une struct est un modèle de données mutable qui regroupe des propriétés et ses méthodes pour les manipuler. C&rsquo;est à peu près équivalent à une classe en programmation orientée objet.</p>
<p>En Go on utilise pas le mot-clé <strong><em>class</em></strong> mais <strong><em>type</em></strong> et <strong><em>struct</em></strong>. L&rsquo;héritage n&rsquo;existe pas pour privilégier la composition et les interfaces.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NomDuType</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prop1</span> <span style="color:#66d9ef">type</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prop2</span> <span style="color:#66d9ef">type</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prop3</span> <span style="color:#66d9ef">type</span> 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="créer-une-struct">Créer une struct</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// définition d&#39;un type Product
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Product</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ID</span>    <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Name</span>  <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Price</span> <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// création d&#39;un produit en mémoire dans la variable p
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Product</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ID</span>:    <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Name</span>:  <span style="color:#e6db74">&#34;Go&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Price</span>: <span style="color:#ae81ff">29.90</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%d %s %.2f \n&#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">ID</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Price</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>1 Go 29.90
</span></span></code></pre></div><h2 id="ajouter-des-méthodes-à-un-type">Ajouter des méthodes à un type</h2>
<p>En Go une méthode est une fonction liée à un type en déclarant un receveur entre parenthèses avant le nom de la fonction. Un receveur est une variable qui reçoit l&rsquo;instance de l&rsquo;objet courant sur lequel on peut manipuler les données.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">nomDuReceveur</span> <span style="color:#a6e22e">TypeDuReceveur</span>) <span style="color:#a6e22e">NomDeLaFonction</span>(<span style="color:#a6e22e">argument</span> <span style="color:#a6e22e">typeArgument</span>) <span style="color:#a6e22e">typeDuRetour</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// block d&#39;instructions
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;math&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Circle</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">radius</span> <span style="color:#66d9ef">float64</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">Circle</span>) <span style="color:#a6e22e">Area</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">radius</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">radius</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">Pi</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#a6e22e">Circle</span>) <span style="color:#a6e22e">Diameter</span>() <span style="color:#66d9ef">float64</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">radius</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Circle</span>{<span style="color:#a6e22e">radius</span>: <span style="color:#ae81ff">20</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Circle&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Diameter:&#34;</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Diameter</span>())
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Area:&#34;</span>, <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Area</span>())
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Circle
</span></span><span style="display:flex;"><span>Diameter: 40
</span></span><span style="display:flex;"><span>Area: 1256.6370614359173
</span></span></code></pre></div><h2 id="struct-et-receiver-function">Struct et Receiver function</h2>
<p>Dans l&rsquo;exemple qui suit nous allons créer un type User et ajouter une méthode pour modifier le nom d&rsquo;un utilisateur.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">User</span>) <span style="color:#a6e22e">ChangeName</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">name</span> = <span style="color:#a6e22e">n</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">User</span>{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;Gauffre&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">ChangeName</span>(<span style="color:#e6db74">&#34;Gopher&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Gauffre
</span></span></code></pre></div><p>On observe que le nom de l&rsquo;utilisateur n&rsquo;a pas été modifié malgré nos efforts parce que le receiver (<em>u User</em>) utilisé est une copie de notre instance <em>usr</em>. Qui dit copie dit autre espace mémoire et pas le même que notre instance.</p>
<p>Vérifions cela en affichant l&rsquo;adresse mémoire et la valeur :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#a6e22e">User</span>) <span style="color:#a6e22e">ChangeName</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">name</span> = <span style="color:#a6e22e">n</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%p %s \n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">u</span>, <span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">User</span>{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;Gauffre&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">ChangeName</span>(<span style="color:#e6db74">&#34;Gopher&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%p %s \n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">usr</span>, <span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>0xc000096220 Gopher 
</span></span><span style="display:flex;"><span>0xc000096210 Gauffre
</span></span></code></pre></div><h2 id="pointer-receiver">Pointer Receiver</h2>
<p>Si l&rsquo;on veut pouvoir modifier une valeur de notre instance via une méthode il faut que le receiver est la même adresse mémoire que notre instance en utilisant un pointer représenté par le caractère <em>*</em> devant le type du receiver.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">User</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">u</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">User</span>) <span style="color:#a6e22e">ChangeName</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">name</span> = <span style="color:#a6e22e">n</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%p %s \n&#34;</span>, <span style="color:#a6e22e">u</span>, <span style="color:#a6e22e">u</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">User</span>{<span style="color:#a6e22e">name</span>: <span style="color:#e6db74">&#34;Gauffre&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">ChangeName</span>(<span style="color:#e6db74">&#34;Gopher&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%p %s \n&#34;</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">usr</span>, <span style="color:#a6e22e">usr</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Sortie :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>0xc000096210 Gopher 
</span></span><span style="display:flex;"><span>0xc000096210 Gopher
</span></span></code></pre></div><h2 id="composition">Composition</h2>
<p>En Go l&rsquo;héritage n&rsquo;existe pas comme en Java avec le mot-clé <em>extends</em>. Les concepteurs du langage ont jugés que l&rsquo;héritage posait plus de problèmes dans la conception que de solutions. Il est possible d&rsquo;avoir un équivalent mais toujours avec le principe de composition.</p>
<p>La composition c&rsquo;est lorsqu&rsquo;un objet A possède une propriété faisant référence a un objet B.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Point</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">float32</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Rect</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">h</span>  <span style="color:#66d9ef">float32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">point</span> <span style="color:#a6e22e">Point</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Rect</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">w</span>: <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>: <span style="color:#ae81ff">80</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">point</span>: <span style="color:#a6e22e">Point</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">x</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">y</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;x:&#34;</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">point</span>.<span style="color:#a6e22e">x</span>, <span style="color:#e6db74">&#34;y:&#34;</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">point</span>.<span style="color:#a6e22e">y</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Pour obtenir une forme équivalente à de l&rsquo;héritage mais en gardant le principe de composition, il faut supprimer l&rsquo;identifiant de l&rsquo;objet que l&rsquo;on souhaite référencer.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Rect</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">point</span> <span style="color:#a6e22e">Point</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Rect</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Point</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Point</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span> <span style="color:#66d9ef">float32</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Rect</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">h</span> <span style="color:#66d9ef">float32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Point</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">r</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Rect</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">w</span>: <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">h</span>: <span style="color:#ae81ff">80</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Point</span>: <span style="color:#a6e22e">Point</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">x</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">y</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;x:&#34;</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">x</span>, <span style="color:#e6db74">&#34;y:&#34;</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">y</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
    </section>

</div>

        </main><footer class="footer">
    <div class="navbar navbar--border-t">
        <div class="copyright">©2022 Vincent</div>
    </div>
</footer>

<script type="text/javascript">
const btn = document.querySelector('.sidebar__body h3');

btn.addEventListener('click', e => {
    if (localStorage.getItem('darkmode') === 'dark') {
        localStorage.setItem('darkmode', 'light');
        document.documentElement.setAttribute('data-theme', 'light');
    } else {
        localStorage.setItem('darkmode', 'dark');
        document.documentElement.setAttribute('data-theme', 'dark');
    }
});
</script>

<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [
                ['$', '$'],
                ['\\(', '\\)']
            ],
            displayMath: [
                ['$$', '$$']
            ],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ['script', 'noscript', 'style', 'textarea'],
            TeX: {
                equationNumbers: {
                    autoNumber: "AMS"
                },
                extensions: ["AMSmath.js", "AMSsymbols.js"]
            }
        }
    });

    MathJax.Hub.Queue(function () {
        var all = MathJax.Hub.getAllJax();
        var i;

        for (i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' language-jax';
        }
    });
</script></body>
</html>
